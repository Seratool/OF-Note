<!DOCTYPE html>
{% $appId = $router->getBaseUrl() %}
<html lang="{{ strtolower($lang->lang) }}">
    <head>
        <meta charset="UTF-8">
        <title>{{ $title }}</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        {# fav icons #}
        <link rel="icon" type="image/ico" href="{{ $router->getQueryUrl(['media' => 'favicon.ico']) }}">
        <link rel="icon" type="image/png" href="{{ $router->getQueryUrl(['media' => 'favicon48.png']) }}">
        <link rel="shortcut icon" type="image/ico" href="{{ $router->getQueryUrl(['media' => 'favicon.ico']) }}">
        <link rel="shortcut icon" type="image/png" href="{{ $router->getQueryUrl(['media' => 'favicon48.png']) }}">
        <link rel="apple-touch-icon" type="image/png" href="{{ $router->getQueryUrl(['media' => 'favicon180.png']) }}">
        {# open graph #}
        <meta property="og:title" content="{{ $title }}">
        <meta property="og:locale" content="{{ strtolower($lang->lang) }}">
        <meta property="og:url" content="{{ $router->getUrl() }}">
        <meta property="og:image" content="{{ $router->getQueryUrl(['media' => 'screen1.png']) }}">
        <meta property="og:site_name" content="Note OneFile">
        <meta property="og:type" content="Website">
        {# WPA start #}
        <meta name="apple-mobile-web-app-title" content="Note OneFile">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="mobile-web-app-capable" content="yes">
        <link rel="manifest" type="application/json" href='data:application/manifest+json,{
            "name":"Note OneFile",
            "short_name":"Note OF",
            "description":"Simple text note app",
            "display":"standalone",
            "id":"{{ $appId }}",
            "scope":"{{ $router->getBaseUrl() }}",
            "theme_color":"white",
            "background_color":"white",
            "icons":[
                {
                  "src": "{{ $router->getQueryUrl(['media' => 'favicon16.png']) }}",
                  "sizes": "16x16",
                  "type": "image/png"
                },
                {
                  "src": "{{ $router->getQueryUrl(['media' => 'favicon32.png']) }}",
                  "sizes": "32x32",
                  "type": "image/png"
                },
                {
                  "src": "{{ $router->getQueryUrl(['media' => 'favicon48.png']) }}",
                  "sizes": "48x48",
                  "type": "image/png"
                },
                {
                  "src": "{{ $router->getQueryUrl(['media' => 'favicon96.png']) }}",
                  "sizes": "96x96",
                  "type": "image/png"
                },
                {
                  "src": "{{ $router->getQueryUrl(['media' => 'favicon128.png']) }}",
                  "sizes": "128x128",
                  "type": "image/png"
                },
                {
                  "src": "{{ $router->getQueryUrl(['media' => 'favicon180.png']) }}",
                  "sizes": "180x180",
                  "type": "image/png"
                },
                {
                  "src": "{{ $router->getQueryUrl(['media' => 'favicon192.png']) }}",
                  "sizes": "192x192",
                  "type": "image/png"
                }
            ],
            "screenshots": [
                {
                    "src": "{{ $router->getQueryUrl(['media' => 'screen1.png']) }}",
                    "sizes": "1250x700",
                    "type": "image/png",
                    "form_factor": "wide",
                    "label": "Application"
                },
                {
                    "src": "{{ $router->getQueryUrl(['media' => 'screen2.png']) }}",
                    "sizes": "392x845",
                    "type": "image/png",
                    "platform": "ios",
                    "label": "Application"
                }
            ],
            "start_url":"{{ $router->getUrl() }}"
        }'>
        {# WPA end #}
        <style>
            {% extends 'init.css' %}
            {% extends 'header.css' %}
            {% extends 'asides.css' %}
            {% extends 'main.css' %}
            {% extends 'connector.css' %}
            {% extends 'print.css' %}
        </style>
    </head>
    <body class="app{{ ($options['t'] ?? '') == 'd' ? ' dark' : '' }}" data-id="{{ $appId }}">
    {% yield content %}
    <script type="text/javascript">
        (function() {
            "use strict";

            function __(key) {
                const dict = {
                    'Do you want to delete the link to "%s"?': '{{ $lang('Do you want to delete the link to "%s"?') }}',
                    'Give the note "%s" a new name': '{{ $lang('Give the note "%s" a new name') }}',
                    'Give the note name': '{{ $lang('Give the note name') }}',
                    'Note with title "%s" already exists!': '{{ $lang('Note with title "%s" already exists!') }}',
                    'Give the password': '{{ $lang('Give the password') }}',
                    'Repeat the password': '{{ $lang('Repeat the password') }}',
                    'The passwords do not match!': '{{ $lang('The passwords do not match!') }}',
                    'Do you want to delete the password?': '{{ $lang('Do you want to delete the password?') }}',
                    'It is not possible to save, a false password has been entered!': '{{ $lang('It is not possible to save, a false password has been entered!') }}',
                    'The given password seems to be incorrect!': '{{ $lang('The given password seems to be incorrect!') }}',
                };

                return dict[key] || key;
            }

            {% extends 'JSE.js' %}
            {% extends 'dic.js' %}
            {% extends 'cryptography.js' %}
            {% extends 'cookies.js' %}
            {% extends 'aside.js' %}
            {% extends 'editor.js' %}
            {% extends 'note.js' %}
            {% extends 'connector.js' %}
            {% extends 'main.js' %}
        })();
    </script>
    </body>
</html>